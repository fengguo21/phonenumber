(function(){"use strict";var e={8077:function(e,t,r){var n=r(5114),o=r.n(n),s=r(7195),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"container"},[t("img",{attrs:{src:"https://s1-imfile.feishucdn.com/static-resource/v1/v2_b33e03ba-ba9c-4ab9-933c-d6c51450bb9g~?image_size=noop&cut_type=&quality=&format=image&sticker_format=.webp",alt:"banner"}}),t("div",{staticClass:"phonecontainer"},e._l(e.phoneList,(function(r,n){return t("div",{directives:[{name:"show",rawName:"v-show",value:n<100*e.page-1&&n>100*(e.page-1)-1,expression:"index < page * 100 - 1 && index > (page - 1) * 100 - 1"}],key:r.id,staticClass:"phoneitem",class:{reserved:1===r.status,seleted:r.selected},on:{click:function(t){return e.selectPhone(r,n)}}},[e._v(" "+e._s(r.phone)+" ")])})),0),t("div",{staticClass:"handle"},[t("el-button",{attrs:{type:"warning"},on:{click:e.reset}},[e._v("刷新重选")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1),t("div",{staticClass:"page"},[t("el-pagination",{attrs:{"current-page":e.page,background:"",layout:"prev, pager, next","page-size":100,total:666},on:{"current-change":e.pageChage}})],1)]),t("el-dialog",{attrs:{title:"办理号码",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"forms",attrs:{"label-width":"100px",model:e.form}},[t("el-form-item",{attrs:{label:"已选号码：",prop:"jobNum"}},[t("div",{staticStyle:{float:"left"}},e._l(e.seleted,(function(r){return t("el-tag",{key:r.id,staticStyle:{"margin-right":"10px"}},[e._v(e._s(r.phone))])})),1)]),t("el-form-item",{attrs:{label:"工号：",rules:[{required:!0,message:"工号必填,格式如:GW12345678"}]}},[t("el-input",{attrs:{maxlength:"10"},model:{value:e.form.jobNum,callback:function(t){e.$set(e.form,"jobNum",t)},expression:"form.jobNum"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("forms")}}},[e._v("确 定")])],1)],1)],1)},a=[],l=(r(7658),r(306));const u="http://10.49.21.40:9020/api/gwm/",c=l.Z.create({baseURL:u,timeout:5e3});c.interceptors.response.use((e=>{console.log(e,"response==========");const t=e;return 200!==t.status?((0,n.Message)({message:t.message||"Error",type:"error",duration:5e3}),Promise.reject(new Error(t.message||"Error"))):t}),(e=>(console.log("err"+e),(0,n.Message)({message:e.message,type:"error",duration:5e3}),Promise.reject(e))));var d=c,p={name:"App",components:{},data(){return{dialogVisible:!1,page:1,form:{jobNum:""},phoneList:[]}},created(){this.getAll()},computed:{seleted(){return this.phoneList.filter((e=>!0===e.selected))},totalPage(){return 6}},methods:{reset(){this.page=1,this.getAll()},submit(e){let t=/^GW[0-9]{8}$/;t.test(this.form.jobNum)?this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;{let e={phones:this.seleted,jobNum:this.form.jobNum};d({url:"/phone/add",method:"post",data:e}).then((e=>{this.phoneList=e.data,console.log(e,"====")}))}})):(0,n.Message)({message:"请正确输入工号,格式如:GW12345678",type:"error",duration:2e3})},confirm(){this.seleted.length?this.dialogVisible=!0:(0,n.Message)({message:"未选择号码",type:"error",duration:2e3})},pageChage(e){this.page=e},getAll(e){d({url:"/phone/queryAll",method:"get",params:e}).then((e=>{this.phoneList=e.data,console.log(e,"====")}))},selectPhone(e,t){if(console.log(e),1!==e.status){if(5===this.seleted.length&&!e.selected)return void(0,n.Message)({message:"最多办理5个号码",type:"error",duration:2e3});this.phoneList[t].selected?this.$set(this.phoneList[t],"selected",!1):this.$set(this.phoneList[t],"selected",!0)}else(0,n.Message)({message:"已被占用",type:"error",duration:2e3})},randomInteger(e){return Math.floor(Math.random()*Math.pow(10,e))},generatePhoneNumbers(e){const t=[];for(let r=0;r<e;r++){const e=`1${this.randomInteger(2)}${this.randomInteger(8)}`;t.push({phone:e})}return t}}},f=p,h=r(1001),g=(0,h.Z)(f,i,a,!1,null,null,null),m=g.exports;s["default"].config.productionTip=!1,s["default"].use(o()),new s["default"]({render:e=>e(m)}).$mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n](s,s.exports,r),s.loaded=!0,s.exports}r.m=e,function(){r.amdO={}}(),function(){var e=[];r.O=function(t,n,o,s){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],s=e[c][2];for(var a=!0,l=0;l<n.length;l++)(!1&s||i>=s)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(a=!1,s<i&&(i=s));if(a){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,o,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,i=n[0],a=n[1],l=n[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(l)var c=l(r)}for(t&&t(n);u<i.length;u++)s=i[u],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(c)},n=self["webpackChunkphonenumber"]=self["webpackChunkphonenumber"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(8077)}));n=r.O(n)})();
//# sourceMappingURL=app.79f39dd1.js.map